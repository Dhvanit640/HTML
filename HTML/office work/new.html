<!DOCTYPE html>
<html>
<head>
    <title>User Data Store API</title>

    <style>
        body {
            font-family: Arial;
            background: #f4f4f4;
        }

        h1 {
            text-align: center;
        }

        .box {
            width: 400px;
            margin: auto;
            background: white;
            padding: 15px;
            border-radius: 5px;
        }

        input, button {
            width: 350px;
            padding: 8px;
            margin: 8px 0;
        }

        .list {
            width: 80%;
            margin: 20px auto;
        }

        .card{
            background: white;
            padding: 10px;
            margin: 10px;
            border-radius: 5px;
        }
    </style>
</head>
<body>

<h1>ðŸ‘¤ User Data Store (API)</h1>

<div class="box">
    <input type="text" id="name" placeholder="Enter Name">
    <input type="email" id="email" placeholder="Enter Email">
    <button onclick="saveUser()">Save User</button>
</div>

<div class="list" id="userList"></div>

<script>
    let apiUrl = "https://jsonplaceholder.typicode.com/users";

    // POST DATA (Store)
    function saveUser() {

        let userData ={
            name: document.getElementById("name").value,
            email: document.getElementById("email").value,
        };

        fetch(apiUrl, {
            method: "POST",
            headers: {
                "Content-Type" : "application/json"
            },
            body: JSON.stringify(userData)
        })
        console.log(apiUrl)
        .then(res => res.json())
        .then(data => {
            alert("User Saved Successfully");
            loadUsers();
        });
    }

    // GET DATA (Show)
    function loadUsers(){
        fetch(apiUrl)
        .then(res => res.json())
        .then(data => {
            showUsers(data);
        });
    }

    function showUsers(users) {
        let output = "";

        users.forEach(user => {
            output += `
                <div class="card">
                    <b>Name:</b>  ${user.name}<br>
                    <b>Email:</b> ${user.email}
                </div>
            `;
        });
        document.getElementById("userList").innerHTML = output;
    }

    loadUsers();
</script>

</body>
</html>
